@page
@model IndexModel
@{
    Layout = "Shared/_MainLayout";
}
<main data-v-c0d0209c="" tabindex="0" class="flex-1 relative z-0 overflow-y-auto py-6 focus:outline-none">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8">
            <div>
                <div class="h-96">
                    <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
                        <div class="mt-2 mb-5 md:flex md:items-center md:justify-between">
                            <div class="flex-1 min-w-0">
                                <h2 class="text-indigo-900 text-md sm:text-3xl sm:leading-9 sm:truncate">
                                    <a href="/schedulers"
                                       class="font-bold no-underline hover:underline hover:text-indigo-800 router-link-exact-active router-link-active"
                                       aria-current="page">Schedulers</a>
                                </h2>
                                <div class="max-w-xl flex-1 text-sm leading-5 text-gray-500">
                                    <p>
                                        Use schedulers to run any command or script
                                        periodically
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-gray-50 sm:rounded-md bg-gray-50 border-solid border-gray-100 border-2 overflow-auto">
                            <ul>
                                <div class="mt-4 flex-shrink-0 flex">
                                    <span class="inline-flex rounded-md shadow-sm">
                                        <a class="inline-flex items-center px-4 py-2 border border-transparent text-sm leading-5 font-bold rounded-md text-indigo-700 bg-indigo-100 hover:bg-indigo-50 focus:outline-none focus:border-indigo-300 focus:shadow-outline-indigo active:bg-indigo-200 transition ease-in-out duration-150"
                                       type="button" asp-page="Create">
                                            <svg fill="currentColor" viewBox="0 0 20 20"
                                                 class="-ml-1 mr-3 h-5 w-5">
                                                <path d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
                                                      clip-rule="evenodd" fill-rule="evenodd"></path>
                                            </svg>
                                            New Scheduler (0/1)
                                        </a>
                                    </span>
                                </div>
                            <table class="table mt-4" style="width: 100%;">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Name</th>
                                            <th scope="col">Description</th>
                                            <th scope="col">Webhook</th>
                                            <th scope="col">Payload</th>
                                            <th scope="col">Header</th>
                                            <th scope="col">Method</th>
                                            <th scope="col">Expression</th>
                                            <th scope="col">Status</th>
                                            <th scope="col">Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    <tr scope="row">
                                        <td>item.JobId</td>
                                        <td>item.Name</td>
                                        <td>item.Description</td>
                                        <td>item.Webhook</td>
                                        <td>item.Payload</td>
                                        <td>item.Header</td>
                                        <td>item.Method</td>
                                        <td>item.Expression</td>
                                        <td>item.Status</td>

                                        <td>
                                            <a asp-page="Edit" asp-route-id= class="btn btn-success">Edit</a>
                                            <a asp-page-handler="delete" asp-route-id= class="btn btn-danger">Delete</a>
                                            <a href="/Scheduler/" class="btn btn-warning">Logs</a>
                                        </td>
                                    </tr>
                                        @foreach (var item in Model.List)
                                        {
                                            <tr scope="row">
                                                <td>@item.JobId</td>
                                                <td>@item.Name</td>
                                                <td>@item.Description</td>
                                                <td>@item.Webhook</td>
                                                <td>@item.Payload</td>
                                                <td>@item.Header</td>
                                                <td>@item.Method</td>
                                                <td>@item.Expression</td>
                                                <td>@item.Status</td>
                                                
                                                <td>
                                                    <a asp-page="Edit" asp-route-id="@item.JobId" class="btn btn-success">Edit</a>
                                                    <a asp-page-handler="delete" asp-route-id="@item.JobId" class="btn btn-danger">Delete</a>
                                                    <a href="/Scheduler/@item.JobId" class="btn btn-warning">Logs</a>
                                                </td>
                                            </tr>
                                        }
                                    </tbody>
                                </table>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>


